
-- Table structure for table `comanda`

DROP TABLE IF EXISTS `comanda`;
CREATE TABLE `comanda` (
  `idComanda` int(10) NOT NULL AUTO_INCREMENT,
  `codigo` varchar(100) NOT NULL,
  `dtInicioCompra` datetime DEFAULT NULL,
  `dtFimCompra` datetime DEFAULT NULL,
  PRIMARY KEY (`idComanda`)
) ;

-- Table structure for table `formapag`

DROP TABLE IF EXISTS `formapag`;

CREATE TABLE `formapag` (
  `idFormaPag` int(10) NOT NULL AUTO_INCREMENT,
  `nome` varchar(100) NOT NULL,
  PRIMARY KEY (`idFormaPag`)
);

-- Table structure for table `funcao`

DROP TABLE IF EXISTS `funcao`;
CREATE TABLE `funcao` (
  `idFuncao` int(10) NOT NULL AUTO_INCREMENT,
  `nome` varchar(100) NOT NULL,
  PRIMARY KEY (`idFuncao`)
);

-- Table structure for table `funcionarios`


DROP TABLE IF EXISTS `funcionarios`;
CREATE TABLE `funcionarios` (
  `idFuncionario` int(10) NOT NULL AUTO_INCREMENT,
  `nome` varchar(100) NOT NULL,
  `idFuncao` int(10) NOT NULL,
  PRIMARY KEY (`idFuncionario`),
  KEY `fk_Funcionarios_1_idx` (`idFuncao`),
  CONSTRAINT `fk_Funcionarios_1` FOREIGN KEY (`idFuncao`) REFERENCES `funcao` (`idFuncao`)
);

-- Table structure for table `pag_prod`

DROP TABLE IF EXISTS `pag_prod`;
CREATE TABLE `pag_prod` (
  `idPag_Prod` int(10) NOT NULL AUTO_INCREMENT,
  `idPagamento` int(10) NOT NULL,
  `idProduto` int(10) NOT NULL,
  `Qtd_Prod` decimal(20,2) NOT NULL,
  PRIMARY KEY (`idPag_Prod`),
  KEY `fk_Pag_Prod_1_idx` (`idPagamento`),
  KEY `fk_Pag_Prod_2_idx` (`idProduto`),
  CONSTRAINT `fk_Pag_Prod_1` FOREIGN KEY (`idPagamento`) REFERENCES `pagamento` (`idPagamento`),
  CONSTRAINT `fk_Pag_Prod_2` FOREIGN KEY (`idProduto`) REFERENCES `produtos` (`idProduto`)
);

-- Table structure for table `pagamento`

DROP TABLE IF EXISTS `pagamento`;
CREATE TABLE `pagamento` (
  `idPagamento` int(10) NOT NULL AUTO_INCREMENT,
  `idComanda` int(10) NOT NULL,
  `idFormaPag` int(10) NOT NULL,
  `idFuncionario` int(10) NOT NULL,
  PRIMARY KEY (`idPagamento`),
  KEY `fk_Pagamento_1_idx` (`idFormaPag`),
  KEY `fk_Pagamento_2_idx` (`idComanda`),
  KEY `fk_Pagamento_3_idx` (`idFuncionario`),
  CONSTRAINT `fk_Pagamento_1` FOREIGN KEY (`idFormaPag`) REFERENCES `formapag` (`idFormaPag`),
  CONSTRAINT `fk_Pagamento_2` FOREIGN KEY (`idComanda`) REFERENCES `comanda` (`idComanda`),
  CONSTRAINT `fk_Pagamento_3` FOREIGN KEY (`idFuncionario`) REFERENCES `funcionarios` (`idFuncionario`)
);

-- Table structure for table `produtos`

DROP TABLE IF EXISTS `produtos`;
CREATE TABLE `produtos` (
  `idProduto` int(10) NOT NULL AUTO_INCREMENT,
  `nome` varchar(10) NOT NULL,
  `idTipo` int(10) NOT NULL,
  `preco` decimal(20,2) NOT NULL,
  PRIMARY KEY (`idProduto`),
  KEY `fk_Produtos_1_idx` (`idTipo`),
  CONSTRAINT `fk_Produtos_1` FOREIGN KEY (`idTipo`) REFERENCES `tipo` (`idTipo`)
);

-- Table structure for table `tipo`

DROP TABLE IF EXISTS `tipo`;
CREATE TABLE `tipo` (
  `idTipo` int(10) NOT NULL AUTO_INCREMENT,
  `nome` varchar(50) NOT NULL,
  PRIMARY KEY (`idTipo`)
);

insert into formapag values(1,'cartao');
insert into funcao values(1,'teste');
insert into tipo values(1,'teste');
insert into comanda (codigo,dtInicioCompra,dtFimCompra)values (1,'2019-4-05','2019-04-05');
insert into comanda (codigo,dtInicioCompra,dtFimCompra)values (2,'2019-4-05','2019-04-05');
insert into pagamento values(1,1,1,1);
insert into produtos values(1,'teste',1,12.40);
insert into pag_prod values(1,1,1,1);
